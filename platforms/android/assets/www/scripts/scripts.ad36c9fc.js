"use strict";angular.module("workoutbookApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/workout",{templateUrl:"views/workout.html",controller:"WorkoutCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/goals",{templateUrl:"views/goals.html",controller:"GoalsCtrl"}).when("/progress",{templateUrl:"views/progress.html",controller:"ProgressCtrl"}).when("/summary",{templateUrl:"views/summary.html",controller:"SummaryCtrl"}).otherwise({redirectTo:"/"})}]).constant("_",window._),angular.module("workoutbookApp").controller("MainCtrl",["$scope","$location",function(a){a.activeWorkout="today",a.chooseWorkout=function(b){a.activeWorkout=b}}]),angular.module("workoutbookApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("workoutbookApp").controller("SlidemenuCtrl",["$scope","$location","$log",function(a,b,c){a.slideMenuVisible=!1,a.showMenu=function(){a.slideMenuVisible=!a.slideMenuVisible},a.goTo=function(d){a.slideMenuVisible=!1,b.path(d),c.debug("routing to",d)}}]),angular.module("workoutbookApp").controller("WorkoutCtrl",["$scope","$location","workoutModel","resultsModel",function(a,b,c,d){function e(){g<f.length?(a.workingSet=0,a.name=f[g].name,a.sets=f[g].sets,a.duration=f[g].duration):b.path("/summary")}var f=c.getActiveWorkout().excercises,g=0,h=0;a.workingSet=0,a.name=f[g].name,a.sets=f[g].sets,a.duration=f[g].duration;var i=[];a.results=i,a.incrementWeight=function(){a.sets[a.workingSet].weight=a.sets[a.workingSet].weight+1,a.sets[a.workingSet].weight<0&&(a.sets[a.workingSet].weight=0)},a.decrementWeight=function(){a.sets[a.workingSet].weight=a.sets[a.workingSet].weight-1},a.incrementReps=function(){a.sets[a.workingSet].reps=a.sets[a.workingSet].reps+1},a.decrementReps=function(){a.sets[a.workingSet].reps=a.sets[a.workingSet].reps-1,a.sets[a.workingSet].reps<0&&(a.sets[a.workingSet].reps=0)},a.nextSet=function(){d.saveResult(g,a.sets[a.workingSet]),a.workingSet=a.workingSet+1,h+=1,a.workingSet>=a.sets.length&&(g+=1,e())}}]),angular.module("workoutbookApp").controller("SummaryCtrl",["$scope","resultsModel",function(a,b){console.log("SummaryCtrl"),a.results=b.getResults()}]),angular.module("workoutbookApp").directive("workoutChooser",["_",function(a){return{templateUrl:"/views/templates/workout_chooser_tpl.html",restrict:"E",scope:{choose:"&workoutChoice",active:"=workoutActive"},link:function(b){var c="btn-default",d="btn-primary";b.buttons={upcoming:{type:c},today:{type:c},previous:{type:c}},b.buttons[b.active].type=d,b.setActive=function(e){a.each(b.buttons,function(a){a.type=c}),b.buttons[e].type=d,b.choose({name:e})}}}}]),angular.module("workoutbookApp").directive("workoutToday",["$location","program","session","workoutModel",function(a,b,c,d){return{templateUrl:"/views/templates/workout_today_tpl.html",restrict:"E",scope:!0,link:function(e){var f=new Date,g=f.getFullYear()+"-"+f.getMonth()+"-"+f.getDate();e.workout=null,e.busy=!0,b.getWorkout(c.getUsername,c.getGym,g).then(function(a){e.workout=a,e.busy=!1},function(a){e.error=a,e.busy=!1}),e.beginWorkout=function(){d.setActiveWorkout(e.workout),a.path("/workout")}}}}]),angular.module("workoutbookApp").directive("workoutPrevious",function(){return{template:"<div><h1>Previous Workouts</h1></div>",restrict:"E",link:function(){}}}),angular.module("workoutbookApp").directive("workoutUpcoming",function(){return{template:"<div><h1>Upcoming workouts</h1></div>",restrict:"E",link:function(){}}}),angular.module("workoutbookApp").directive("excerciseSummary",function(){return{templateUrl:"/views/templates/excercise_summary_tpl.html",restrict:"E",scope:{excercise:"=excercise"},link:function(){}}}),angular.module("workoutbookApp").service("session",function(){var a="bart",b="beyondfit";this.getUsername=function(){return a},this.setUsername=function(b){a=b},this.getGym=function(){return b},this.setGym=function(a){b=a}}),angular.module("workoutbookApp").service("program",["$q",function(a){this.getWorkout=function(){var b=a.defer();return b.resolve({excercises:[{name:"Bench Press",sets:[{reps:5,weight:135},{reps:5,weight:135},{reps:5,weight:135},{reps:5,weight:135},{reps:5,weight:135}]},{name:"Squat",sets:[{reps:5,weight:150},{reps:5,weight:150},{reps:5,weight:150},{reps:5,weight:150},{reps:5,weight:150}]},{name:"Jump Rope",sets:[{duration:"10m"}]}]}),b.promise}}]),angular.module("workoutbookApp").service("workoutModel",function(){var a;this.setActiveWorkout=function(b){a=b},this.getActiveWorkout=function(){return a}}),angular.module("workoutbookApp").directive("excerciseProgress",function(){return{templateUrl:"/views/templates/excercise_progress_tpl.html",restrict:"E",scope:{total:"=totalCount",current:"=currentCount"},link:function(a){console.log(a)}}}),angular.module("workoutbookApp").service("resultsModel",function(){this.saveResult=function(){},this.getResults=function(){return[{name:"Bench Press",sets:[{setNumber:1,weight:135,reps:5},{setNumber:2,weight:135,reps:5},{setNumber:3,weight:135,reps:5},{setNumber:4,weight:135,reps:5},{setNumber:5,weight:135,reps:5}]},{name:"Squat",sets:[{setNumber:1,weight:135,reps:5},{setNumber:2,weight:135,reps:5},{setNumber:3,weight:135,reps:5},{setNumber:4,weight:135,reps:5},{setNumber:5,weight:135,reps:5}]},{name:"Jump Rope",sets:[{setNumber:1,duration:"10m"}]}]}}),angular.module("workoutbookApp").directive("topBar",function(){return{templateUrl:"/views/templates/top-bar.html",restrict:"E"}}),angular.module("workoutbookApp").directive("sideMenu",function(){return{templateUrl:"/views/templates/side-menu.html",restrict:"E"}});